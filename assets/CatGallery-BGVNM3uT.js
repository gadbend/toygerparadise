import{x as e,j as t,L as s,y as n,r,u as i}from"./index-jxt0Jdqh.js";import{g as a}from"./galleryQueries-BMotv9uF.js";import{M as o,u as l,P as c,a as d,b as u,L as m,m as p}from"./proxy-BSVoCzTG.js";const h={adoption:"Available Kittens","about-us":"About Us",contact:"Contact",breeds:"Cat Breeds",toyger:"Toyger",bengal:"Bengal",login:"Login"};function f(){const r=e(),i=r.pathname.split("/").filter((e=>e));if("/"===r.pathname)return null;const a=i.map(((e,t)=>{const s=t===i.length-1,n=`/${i.slice(0,t+1).join("/")}`;return{label:h[e]||e,path:n,isCategory:!s}}));return t.jsx("div",{className:"py-4",children:t.jsx("div",{className:"container mx-auto",children:t.jsxs("ol",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("li",{children:t.jsx(s,{to:"/",className:"text-gray-400 hover:text-amber-500 transition-colors px-3 py-1 rounded-md hover:bg-white/5",children:"Home"})}),a.map(((e,r)=>t.jsxs("li",{className:"flex items-center",children:[t.jsx(n,{className:"h-4 w-4 text-gray-400"}),e.isCategory?t.jsx(s,{to:e.path,className:"text-gray-400 hover:text-amber-500 transition-colors px-3 py-1 rounded-md hover:bg-white/5",children:e.label}):t.jsx("span",{className:"text-amber-500 px-3 py-1",children:e.label})]},e.path)))]})})})}class x extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function g({children:e,isPresent:s}){const n=r.useId(),i=r.useRef(null),a=r.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=r.useContext(o);return r.useInsertionEffect((()=>{const{width:e,height:t,top:r,left:o}=a.current;if(s||!i.current||!e||!t)return;i.current.dataset.motionPopId=n;const c=document.createElement("style");return l&&(c.nonce=l),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            top: ${r}px !important;\n            left: ${o}px !important;\n          }\n        `),()=>{document.head.removeChild(c)}}),[s]),t.jsx(x,{isPresent:s,childRef:i,sizeRef:a,children:r.cloneElement(e,{ref:i})})}const y=({children:e,initial:s,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:d})=>{const u=l(j),m=r.useId(),p=r.useCallback((e=>{u.set(e,!0);for(const t of u.values())if(!t)return;i&&i()}),[u,i]),h=r.useMemo((()=>({id:m,initial:s,isPresent:n,custom:a,onExitComplete:p,register:e=>(u.set(e,!1),()=>u.delete(e))})),o?[Math.random(),p]:[n,p]);return r.useMemo((()=>{u.forEach(((e,t)=>u.set(t,!1)))}),[n]),r.useEffect((()=>{!n&&!u.size&&i&&i()}),[n]),"popLayout"===d&&(e=t.jsx(g,{isPresent:n,children:e})),t.jsx(c.Provider,{value:h,children:e})};function j(){return new Map}const v=e=>e.key||"";function b(e){const t=[];return r.Children.forEach(e,(e=>{r.isValidElement(e)&&t.push(e)})),t}const w=({children:e,custom:s,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:c=!1})=>{const[p,h]=d(c),f=r.useMemo((()=>b(e)),[e]),x=c&&!p?[]:f.map(v),g=r.useRef(!0),j=r.useRef(f),w=l((()=>new Map)),[N,C]=r.useState(f),[E,L]=r.useState(f);u((()=>{g.current=!1,j.current=f;for(let e=0;e<E.length;e++){const t=v(E[e]);x.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}}),[E,x.length,x.join("-")]);const P=[];if(f!==N){let e=[...f];for(let t=0;t<E.length;t++){const s=E[t],n=v(s);x.includes(n)||(e.splice(t,0,s),P.push(s))}return"wait"===o&&P.length&&(e=P),L(b(e)),void C(f)}const{forceRender:k}=r.useContext(m);return t.jsx(t.Fragment,{children:E.map((e=>{const r=v(e),l=!(c&&!p)&&(f===E||x.includes(r));return t.jsx(y,{isPresent:l,initial:!(g.current&&!n)&&void 0,custom:l?void 0:s,presenceAffectsLayout:a,mode:o,onExitComplete:l?void 0:()=>{if(!w.has(r))return;w.set(r,!0);let e=!0;w.forEach((t=>{t||(e=!1)})),e&&(null==k||k(),L(j.current),c&&(null==h||h()),i&&i())},children:e},r)}))})};function N({category:e}){i();const[s,n]=r.useState(null),[o,l]=r.useState([]),[c,d]=r.useState(!0),[u,m]=r.useState(null);return r.useEffect((()=>{(async()=>{try{d(!0),m(null);const t=await a(e);l(t)}catch(t){m("Failed to load images. Please try again later.")}finally{d(!1)}})()}),[e]),r.useEffect((()=>{const e=document.querySelectorAll("img[data-src]"),t=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const s=e.target;s.src=s.dataset.src||"",s.removeAttribute("data-src"),t.unobserve(s)}}))}));return e.forEach((e=>t.observe(e))),()=>t.disconnect()}),[o]),c?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gold"})}):u?t.jsx("div",{className:"text-center py-8 text-red-500",children:u}):o.length?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 p-4",children:o.map(((s,r)=>t.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},className:"relative aspect-square overflow-hidden rounded-xl cursor-pointer group",onClick:()=>n(s),children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/50 z-10"}),t.jsx("img",{"data-src":s.image_url,alt:s.title||`${e} cat`,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700 ease-out",onLoad:e=>{e.target.classList.remove("opacity-0")}}),s.title&&t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 z-20 transform translate-y-2 group-hover:translate-y-0 transition-transform duration-300",children:[t.jsx("h3",{className:"text-white text-lg font-medium drop-shadow-lg",children:s.title}),s.description&&t.jsx("p",{className:"text-gray-200 text-sm mt-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.description})]})]},s.id)))}),t.jsx(w,{children:s&&t.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:()=>n(null),children:t.jsxs(p.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-5xl w-full",onClick:e=>e.stopPropagation(),children:[t.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gold transition-colors z-10",onClick:()=>n(null),children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t.jsx("div",{className:"relative aspect-[16/9] rounded-xl overflow-hidden",children:t.jsx("img",{src:s.image_url,alt:s.title||`${e} cat`,className:"w-full h-full object-contain"})}),s.title&&t.jsxs("div",{className:"mt-4 text-white",children:[t.jsx("h3",{className:"text-2xl font-semibold",children:s.title}),s.description&&t.jsx("p",{className:"mt-2 text-gray-300",children:s.description})]})]})})})]}):t.jsx("div",{className:"text-center py-8",children:"No images available for this category."})}export{f as B,N as C};
//# sourceMappingURL=CatGallery-BGVNM3uT.js.map
