{"version":3,"file":"CatDetailsPage-CkRLb88O.js","sources":["../../src/pages/CatDetailsPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useParams, Link, useNavigate } from \"react-router-dom\";\nimport Navigation from \"@/components/Navigation\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport type { Kitten } from \"@/types/database\";\nimport { Helmet } from \"react-helmet-async\";\nimport { getKittens } from \"@/lib/queries\";\nimport { generateKittenSlug } from \"@/lib/utils\";\n\nconst CatDetailsPage = () => {\n  const { t } = useTranslation();\n  const { slug } = useParams();\n  const navigate = useNavigate();\n  const [kitten, setKitten] = useState<Kitten | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchKitten = async () => {\n      try {\n        if (!slug) {\n          console.log(\"No slug provided\");\n          return;\n        }\n        \n        const kittens = await getKittens();\n        \n        // Parse the slug format: [breed]-for-sale-[name]-[uniqueID]\n        const parts = slug.split('-');\n        if (parts.length < 4) {\n          console.log(\"Invalid slug format\");\n          navigate('/adoption');\n          return;\n        }\n\n        // Get the unique ID (last part)\n        const slugId = parts[parts.length - 1];\n        \n        if (!slugId || slugId.length !== 6) {\n          console.log(\"Invalid slug ID format\");\n          navigate('/adoption');\n          return;\n        }\n\n        const matchingKitten = kittens.find(k => {\n          // Generate the expected slug for this kitten\n          const kittenSlug = generateKittenSlug(k.name, k.id, k.breed);\n          return kittenSlug === slug;\n        });\n        \n        if (!matchingKitten) {\n          console.log(\"No matching kitten found\");\n          navigate('/adoption');\n          return;\n        }\n\n        setKitten(matchingKitten);\n      } catch (error) {\n        console.error(\"Error fetching kitten:\", error);\n        navigate('/adoption');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchKitten();\n  }, [slug, navigate]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-white\">\n        <Navigation />\n        <div className=\"flex items-center justify-center h-[calc(100vh-5rem)]\">\n          <div className=\"text-black\">Loading...</div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!kitten) {\n    return null;\n  }\n\n  // Format the description into paragraphs for better readability\n  const descriptionParagraphs = kitten.description?.split('\\n').filter(Boolean) || [];\n  \n  // Create a rich meta description combining key information\n  const metaDescription = `Meet ${kitten.name}, a beautiful ${kitten.age || ''} ${kitten.breed} kitten available for adoption. ${\n    descriptionParagraphs[0] || ''\n  }`.trim();\n\n  return (\n    <>\n      <Helmet>\n        <title>{`${kitten.name} - ${kitten.breed} Kitten for Adoption | Paradise Toygers & Bengals`}</title>\n        <meta name=\"description\" content={metaDescription} />\n        <meta name=\"keywords\" content={`${kitten.breed} kitten, cat adoption, ${kitten.gender || ''} kitten, ${kitten.breed} cat, Paradise Toygers & Bengals, ${kitten.name}`} />\n        \n        {/* Open Graph Tags for Facebook */}\n        <meta property=\"og:type\" content=\"article\" />\n        <meta property=\"og:title\" content={`${kitten.breed} Kitten ${kitten.name} is Available for Adoption!`} />\n        <meta property=\"og:description\" content={`Meet ${kitten.name}, a beautiful ${kitten.breed} kitten. ${kitten.gender ? `${kitten.gender} kitten` : ''} ${kitten.age ? `aged ${kitten.age}` : ''}. ${descriptionParagraphs[0]?.slice(0, 150)}...`} />\n        <meta property=\"og:url\" content={window.location.href} />\n        {kitten.images?.[0] && (\n          <>\n            <meta property=\"og:image\" content={kitten.images[0]} />\n            <meta property=\"og:image:secure_url\" content={kitten.images[0]} />\n            <meta property=\"og:image:width\" content=\"1200\" />\n            <meta property=\"og:image:height\" content=\"630\" />\n            <meta property=\"og:image:alt\" content={`${kitten.breed} kitten ${kitten.name}`} />\n          </>\n        )}\n        <meta property=\"og:site_name\" content=\"Paradise Toygers & Bengals\" />\n        \n        {/* Twitter Card Tags */}\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\n        <meta name=\"twitter:title\" content={`${kitten.name} - ${kitten.breed} Kitten for Adoption`} />\n        <meta name=\"twitter:description\" content={metaDescription} />\n        {kitten.images?.[0] && <meta name=\"twitter:image\" content={kitten.images[0]} />}\n        \n        {/* Canonical URL */}\n        <link rel=\"canonical\" href={window.location.href} />\n      </Helmet>\n\n      {/* JSON-LD Structured Data */}\n      <script type=\"application/ld+json\">\n        {JSON.stringify({\n          \"@context\": \"https://schema.org\",\n          \"@type\": \"Product\",\n          \"name\": `${kitten.name} - ${kitten.breed} Kitten`,\n          \"description\": metaDescription,\n          \"image\": kitten.images,\n          ...(kitten.price && {\n            \"offers\": {\n              \"@type\": \"Offer\",\n              \"price\": kitten.price.replace(/[^0-9.]/g, ''),\n              \"priceCurrency\": \"USD\",\n              \"availability\": \"https://schema.org/InStock\"\n            }\n          }),\n          \"brand\": {\n            \"@type\": \"Brand\",\n            \"name\": \"Paradise Toygers & Bengals\"\n          },\n          \"additionalProperty\": [\n            {\n              \"@type\": \"PropertyValue\",\n              \"name\": \"breed\",\n              \"value\": kitten.breed\n            },\n            ...(kitten.age ? [{\n              \"@type\": \"PropertyValue\",\n              \"name\": \"age\",\n              \"value\": kitten.age\n            }] : []),\n            ...(kitten.gender ? [{\n              \"@type\": \"PropertyValue\",\n              \"name\": \"gender\",\n              \"value\": kitten.gender\n            }] : [])\n          ]\n        })}\n      </script>\n\n      <div className=\"min-h-screen bg-white\">\n        <Navigation />\n        \n        <main className=\"max-w-7xl mx-auto px-4 py-8\" role=\"main\">\n          {/* Breadcrumb */}\n          <nav aria-label=\"Breadcrumb\" className=\"text-sm mb-6\">\n            <ol className=\"flex items-center space-x-2\">\n              <li>\n                <Link to=\"/\" className=\"text-amber-600 hover:text-amber-700\">\n                  {t(\"nav.home\")}\n                </Link>\n              </li>\n              <li className=\"text-gray-400\" aria-hidden=\"true\">/</li>\n              <li>\n                <Link to=\"/adoption\" className=\"text-amber-600 hover:text-amber-700\">\n                  {t(\"nav.adoption\")}\n                </Link>\n              </li>\n              <li className=\"text-gray-400\" aria-hidden=\"true\">/</li>\n              <li className=\"text-gray-600\" aria-current=\"page\">{kitten.name}</li>\n            </ol>\n          </nav>\n\n          <article className=\"max-w-4xl mx-auto\">\n            {/* Main Content Section */}\n            <header className=\"text-center mb-8\">\n              <h1 className=\"text-4xl font-bold mb-4\">{kitten.name}</h1>\n              <Badge variant=\"outline\" className=\"text-amber-600 border-amber-600 mb-4\">\n                {kitten.breed}\n              </Badge>\n              \n              {/* Key Information */}\n              <div className=\"flex justify-center gap-4 mb-6\">\n                {kitten.age && (\n                  <div className=\"bg-gray-50 px-4 py-2 rounded-lg\">\n                    <span className=\"text-amber-600 block text-sm\">{t(\"cat.age\")}</span>\n                    <span className=\"font-medium\">{kitten.age}</span>\n                  </div>\n                )}\n                {kitten.gender && (\n                  <div className=\"bg-gray-50 px-4 py-2 rounded-lg\">\n                    <span className=\"text-amber-600 block text-sm\">{t(\"cat.gender\")}</span>\n                    <span className=\"font-medium\">{kitten.gender}</span>\n                  </div>\n                )}\n              </div>\n            </header>\n\n            {/* Image Gallery */}\n            <section aria-label=\"Kitten Photos\" className=\"mb-12\">\n              {kitten.images && kitten.images.length > 0 && (\n                <div className=\"grid grid-cols-2 gap-4\">\n                  {kitten.images.map((image, index) => (\n                    <div \n                      key={index} \n                      className={`relative aspect-square bg-gray-50 rounded-lg overflow-hidden ${\n                        index === 0 ? 'col-span-2 aspect-[16/10]' : ''\n                      }`}\n                    >\n                      <img\n                        src={image}\n                        alt={`${kitten.name} - ${index === 0 ? 'Main Photo' : `Photo ${index + 1}`}`}\n                        className=\"w-full h-full object-cover\"\n                        loading={index === 0 ? \"eager\" : \"lazy\"}\n                      />\n                    </div>\n                  ))}\n                </div>\n              )}\n            </section>\n\n            {/* Description Section - Main Content for SEO */}\n            <section className=\"mb-12\">\n              <h2 className=\"text-2xl font-semibold text-amber-600 mb-6\">About {kitten.name}</h2>\n              <div className=\"prose prose-lg max-w-none\">\n                {descriptionParagraphs.map((paragraph, index) => (\n                  <p key={index} className=\"text-gray-700 leading-relaxed mb-4\">\n                    {paragraph}\n                  </p>\n                ))}\n              </div>\n            </section>\n\n            {/* Adoption Information */}\n            {kitten.price && (\n              <section className=\"mb-12\">\n                <div className=\"bg-amber-50 p-6 rounded-lg text-center\">\n                  <h2 className=\"text-xl font-semibold text-amber-600 mb-2\">{t(\"cat.price\")}</h2>\n                  <p className=\"text-3xl font-bold text-amber-700 mb-4\">{kitten.price}</p>\n                  <Button\n                    onClick={() => navigate('/contact')}\n                    className=\"bg-amber-600 hover:bg-amber-700 text-white py-6 px-8 text-lg\"\n                    aria-label={`Contact us about adopting ${kitten.name}`}\n                  >\n                    {t(\"cat.contactUs\")}\n                  </Button>\n                  <Button\n                    onClick={() => {\n                      // Ensure we have an absolute URL\n                      const absoluteUrl = window.location.href.includes('http') \n                        ? window.location.href \n                        : `https://www.toygerparadise.com${window.location.pathname}`;\n                      const url = encodeURIComponent(absoluteUrl);\n                      const shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}&display=popup`;\n                      window.open(shareUrl, 'FacebookShare', 'width=626,height=436');\n                    }}\n                    aria-label={`Share ${kitten.name} on Facebook`}\n                  >\n                    Share on Facebook\n                  </Button>\n                </div>\n              </section>\n            )}\n          </article>\n        </main>\n      </div>\n    </>\n  );\n};\n\nexport default CatDetailsPage;\n"],"names":["CatDetailsPage","t","useTranslation","slug","useParams","navigate","useNavigate","kitten","setKitten","useState","loading","setLoading","useEffect","async","kittens","getKittens","parts","split","length","slugId","matchingKitten","find","k","generateKittenSlug","name","id","breed","error","fetchKitten","jsxs","className","children","jsxRuntimeExports","jsx","Navigation","descriptionParagraphs","_a","description","filter","Boolean","metaDescription","age","trim","Fragment","Helmet","content","gender","property","_b","slice","window","location","href","_c","images","_d","rel","type","stringify","image","price","offers","replace","priceCurrency","availability","brand","additionalProperty","value","role","Link","to","Badge","variant","map","index","src","alt","paragraph","Button","onClick","absoluteUrl","includes","pathname","shareUrl","encodeURIComponent","open"],"mappings":"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"}