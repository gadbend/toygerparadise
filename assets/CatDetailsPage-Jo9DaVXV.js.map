{"version":3,"file":"CatDetailsPage-Jo9DaVXV.js","sources":["../../src/pages/CatDetailsPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useParams, Link, useNavigate } from \"react-router-dom\";\nimport Navigation from \"@/components/Navigation\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport type { Kitten } from \"@/types/database\";\nimport { Helmet } from \"react-helmet-async\";\nimport { getKittens } from \"@/lib/queries\";\nimport { generateKittenSlug } from \"@/lib/utils\";\n\nconst CatDetailsPage = () => {\n  const { t } = useTranslation();\n  const { slug } = useParams();\n  const navigate = useNavigate();\n  const [kitten, setKitten] = useState<Kitten | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchKitten = async () => {\n      try {\n        if (!slug) {\n          console.log(\"No slug provided\");\n          return;\n        }\n        \n        const kittens = await getKittens();\n        \n        const parts = slug.split('-');\n        const slugId = parts[parts.length - 1];\n        \n        if (!slugId || slugId.length !== 8) {\n          console.log(\"Invalid slug ID format\");\n          navigate('/adoption');\n          return;\n        }\n\n        const matchingKitten = kittens.find(k => {\n          const kittenId = k.id.padEnd(8, '0').slice(0, 8);\n          return kittenId === slugId;\n        });\n        \n        if (!matchingKitten) {\n          console.log(\"No matching kitten found\");\n          navigate('/adoption');\n          return;\n        }\n\n        setKitten(matchingKitten);\n      } catch (error) {\n        console.error(\"Error fetching kitten:\", error);\n        navigate('/adoption');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchKitten();\n  }, [slug, navigate]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-white\">\n        <Navigation />\n        <div className=\"flex items-center justify-center h-[calc(100vh-5rem)]\">\n          <div className=\"text-black\">Loading...</div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!kitten) {\n    return null;\n  }\n\n  // Format the description into paragraphs for better readability\n  const descriptionParagraphs = kitten.description?.split('\\n').filter(Boolean) || [];\n  \n  // Create a rich meta description combining key information\n  const metaDescription = `Meet ${kitten.name}, a beautiful ${kitten.age || ''} ${kitten.breed} kitten available for adoption. ${\n    descriptionParagraphs[0] || ''\n  }`.trim();\n\n  return (\n    <>\n      <Helmet>\n        <title>{`${kitten.name} - ${kitten.breed} Kitten for Adoption | Paradise Toygers & Bengals`}</title>\n        <meta name=\"description\" content={metaDescription} />\n        <meta name=\"keywords\" content={`${kitten.breed} kitten, cat adoption, ${kitten.gender || ''} kitten, ${kitten.breed} cat, Paradise Toygers & Bengals, ${kitten.name}`} />\n        \n        {/* Open Graph Tags */}\n        <meta property=\"og:type\" content=\"product\" />\n        <meta property=\"og:title\" content={`${kitten.name} - ${kitten.breed} Kitten for Adoption`} />\n        <meta property=\"og:description\" content={metaDescription} />\n        <meta property=\"og:url\" content={window.location.href} />\n        {kitten.images?.[0] && <meta property=\"og:image\" content={kitten.images[0]} />}\n        <meta property=\"og:site_name\" content=\"Paradise Toygers & Bengals\" />\n        \n        {/* Twitter Card Tags */}\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\n        <meta name=\"twitter:title\" content={`${kitten.name} - ${kitten.breed} Kitten for Adoption`} />\n        <meta name=\"twitter:description\" content={metaDescription} />\n        {kitten.images?.[0] && <meta name=\"twitter:image\" content={kitten.images[0]} />}\n        \n        {/* Canonical URL */}\n        <link rel=\"canonical\" href={window.location.href} />\n      </Helmet>\n\n      {/* JSON-LD Structured Data */}\n      <script type=\"application/ld+json\">\n        {JSON.stringify({\n          \"@context\": \"https://schema.org\",\n          \"@type\": \"Product\",\n          \"name\": `${kitten.name} - ${kitten.breed} Kitten`,\n          \"description\": metaDescription,\n          \"image\": kitten.images,\n          ...(kitten.price && {\n            \"offers\": {\n              \"@type\": \"Offer\",\n              \"price\": kitten.price.replace(/[^0-9.]/g, ''),\n              \"priceCurrency\": \"USD\",\n              \"availability\": \"https://schema.org/InStock\"\n            }\n          }),\n          \"brand\": {\n            \"@type\": \"Brand\",\n            \"name\": \"Paradise Toygers & Bengals\"\n          },\n          \"additionalProperty\": [\n            {\n              \"@type\": \"PropertyValue\",\n              \"name\": \"breed\",\n              \"value\": kitten.breed\n            },\n            ...(kitten.age ? [{\n              \"@type\": \"PropertyValue\",\n              \"name\": \"age\",\n              \"value\": kitten.age\n            }] : []),\n            ...(kitten.gender ? [{\n              \"@type\": \"PropertyValue\",\n              \"name\": \"gender\",\n              \"value\": kitten.gender\n            }] : [])\n          ]\n        })}\n      </script>\n\n      <div className=\"min-h-screen bg-white\">\n        <Navigation />\n        \n        <main className=\"max-w-7xl mx-auto px-4 py-8\" role=\"main\">\n          {/* Breadcrumb */}\n          <nav aria-label=\"Breadcrumb\" className=\"text-sm mb-6\">\n            <ol className=\"flex items-center space-x-2\">\n              <li>\n                <Link to=\"/\" className=\"text-amber-600 hover:text-amber-700\">\n                  {t(\"nav.home\")}\n                </Link>\n              </li>\n              <li className=\"text-gray-400\" aria-hidden=\"true\">/</li>\n              <li>\n                <Link to=\"/adoption\" className=\"text-amber-600 hover:text-amber-700\">\n                  {t(\"nav.adoption\")}\n                </Link>\n              </li>\n              <li className=\"text-gray-400\" aria-hidden=\"true\">/</li>\n              <li className=\"text-gray-600\" aria-current=\"page\">{kitten.name}</li>\n            </ol>\n          </nav>\n\n          <article className=\"max-w-4xl mx-auto\">\n            {/* Main Content Section */}\n            <header className=\"text-center mb-8\">\n              <h1 className=\"text-4xl font-bold mb-4\">{kitten.name}</h1>\n              <Badge variant=\"outline\" className=\"text-amber-600 border-amber-600 mb-4\">\n                {kitten.breed}\n              </Badge>\n              \n              {/* Key Information */}\n              <div className=\"flex justify-center gap-4 mb-6\">\n                {kitten.age && (\n                  <div className=\"bg-gray-50 px-4 py-2 rounded-lg\">\n                    <span className=\"text-amber-600 block text-sm\">{t(\"cat.age\")}</span>\n                    <span className=\"font-medium\">{kitten.age}</span>\n                  </div>\n                )}\n                {kitten.gender && (\n                  <div className=\"bg-gray-50 px-4 py-2 rounded-lg\">\n                    <span className=\"text-amber-600 block text-sm\">{t(\"cat.gender\")}</span>\n                    <span className=\"font-medium\">{kitten.gender}</span>\n                  </div>\n                )}\n              </div>\n            </header>\n\n            {/* Image Gallery */}\n            <section aria-label=\"Kitten Photos\" className=\"mb-12\">\n              {kitten.images && kitten.images.length > 0 && (\n                <div className=\"grid grid-cols-2 gap-4\">\n                  {kitten.images.map((image, index) => (\n                    <div \n                      key={index} \n                      className={`relative aspect-square bg-gray-50 rounded-lg overflow-hidden ${\n                        index === 0 ? 'col-span-2 aspect-[16/10]' : ''\n                      }`}\n                    >\n                      <img\n                        src={image}\n                        alt={`${kitten.name} - ${index === 0 ? 'Main Photo' : `Photo ${index + 1}`}`}\n                        className=\"w-full h-full object-cover\"\n                        loading={index === 0 ? \"eager\" : \"lazy\"}\n                      />\n                    </div>\n                  ))}\n                </div>\n              )}\n            </section>\n\n            {/* Description Section - Main Content for SEO */}\n            <section className=\"mb-12\">\n              <h2 className=\"text-2xl font-semibold text-amber-600 mb-6\">About {kitten.name}</h2>\n              <div className=\"prose prose-lg max-w-none\">\n                {descriptionParagraphs.map((paragraph, index) => (\n                  <p key={index} className=\"text-gray-700 leading-relaxed mb-4\">\n                    {paragraph}\n                  </p>\n                ))}\n              </div>\n            </section>\n\n            {/* Adoption Information */}\n            {kitten.price && (\n              <section className=\"mb-12\">\n                <div className=\"bg-amber-50 p-6 rounded-lg text-center\">\n                  <h2 className=\"text-xl font-semibold text-amber-600 mb-2\">{t(\"cat.price\")}</h2>\n                  <p className=\"text-3xl font-bold text-amber-700 mb-4\">{kitten.price}</p>\n                  <Button\n                    onClick={() => navigate('/contact')}\n                    className=\"bg-amber-600 hover:bg-amber-700 text-white py-6 px-8 text-lg\"\n                    aria-label={`Contact us about adopting ${kitten.name}`}\n                  >\n                    {t(\"cat.contactUs\")}\n                  </Button>\n                </div>\n              </section>\n            )}\n          </article>\n        </main>\n      </div>\n    </>\n  );\n};\n\nexport default CatDetailsPage;\n"],"names":["CatDetailsPage","t","useTranslation","slug","useParams","navigate","useNavigate","kitten","setKitten","useState","loading","setLoading","useEffect","async","kittens","getKittens","parts","split","slugId","length","matchingKitten","find","k","id","padEnd","slice","error","fetchKitten","jsxs","className","children","jsxRuntimeExports","jsx","Navigation","descriptionParagraphs","_a","description","filter","Boolean","metaDescription","name","age","breed","trim","Fragment","Helmet","content","gender","property","window","location","href","_b","images","_c","rel","type","stringify","image","price","offers","replace","priceCurrency","availability","brand","additionalProperty","value","role","Link","to","Badge","variant","map","index","src","alt","paragraph","Button","onClick"],"mappings":"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"}