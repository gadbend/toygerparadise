{"version":3,"file":"CatDetailsPage-CuDT7ksi.js","sources":["../../src/pages/CatDetailsPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useParams, Link, useNavigate } from \"react-router-dom\";\nimport Navigation from \"@/components/Navigation\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport type { Kitten } from \"@/types/database\";\nimport { Helmet } from \"react-helmet-async\";\nimport { getKittens } from \"@/lib/queries\";\nimport { generateKittenSlug } from \"@/lib/utils\";\n\nconst CatDetailsPage = () => {\n  const { t } = useTranslation();\n  const { slug } = useParams();\n  const navigate = useNavigate();\n  const [kitten, setKitten] = useState<Kitten | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchKitten = async () => {\n      try {\n        if (!slug) {\n          console.log(\"No slug provided\");\n          return;\n        }\n        \n        const kittens = await getKittens();\n        \n        // Get the last part of the slug after the last hyphen\n        const parts = slug.split('-');\n        const slugId = parts[parts.length - 1];\n        \n        if (!slugId || slugId.length !== 8) {\n          console.log(\"Invalid slug ID format\");\n          navigate('/adoption');\n          return;\n        }\n\n        // Find kitten by exact ID match\n        const matchingKitten = kittens.find(k => {\n          // Pad the kitten ID to match the slug format\n          const kittenId = k.id.padEnd(8, '0').slice(0, 8);\n          return kittenId === slugId;\n        });\n        \n        if (!matchingKitten) {\n          console.log(\"No matching kitten found\");\n          navigate('/adoption');\n          return;\n        }\n\n        setKitten(matchingKitten);\n      } catch (error) {\n        console.error(\"Error fetching kitten:\", error);\n        navigate('/adoption');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchKitten();\n  }, [slug, navigate]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-white\">\n        <Navigation />\n        <div className=\"flex items-center justify-center h-[calc(100vh-5rem)]\">\n          <div className=\"text-black\">Loading...</div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!kitten) {\n    return null;\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>{`${kitten.name} - ${kitten.breed} Kitten | Paradise Toygers & Bengals`}</title>\n        <meta name=\"description\" content={kitten.description} />\n        <meta property=\"og:title\" content={`${kitten.name} - ${kitten.breed} Kitten`} />\n        <meta property=\"og:description\" content={kitten.description} />\n        {kitten.images?.[0] && <meta property=\"og:image\" content={kitten.images[0]} />}\n      </Helmet>\n\n      <div className=\"min-h-screen bg-white\">\n        <Navigation />\n        \n        <main className=\"max-w-7xl mx-auto px-4 py-8\">\n          {/* Breadcrumb */}\n          <nav className=\"text-sm mb-6\">\n            <ol className=\"flex items-center space-x-2\">\n              <li>\n                <Link to=\"/\" className=\"text-amber-600 hover:text-amber-700\">\n                  {t(\"nav.home\")}\n                </Link>\n              </li>\n              <li className=\"text-gray-400\">/</li>\n              <li>\n                <Link to=\"/adoption\" className=\"text-amber-600 hover:text-amber-700\">\n                  {t(\"nav.adoption\")}\n                </Link>\n              </li>\n              <li className=\"text-gray-400\">/</li>\n              <li className=\"text-gray-600\">{kitten.name}</li>\n            </ol>\n          </nav>\n\n          {/* Main Content */}\n          <div className=\"flex flex-col lg:flex-row gap-8 lg:gap-12\">\n            {/* Left Column - Images */}\n            <div className=\"lg:w-2/3\">\n              {kitten.images && kitten.images.length > 0 && (\n                <div className=\"grid grid-cols-2 gap-4\">\n                  {kitten.images.map((image, index) => (\n                    <div \n                      key={index} \n                      className={`relative aspect-square bg-gray-50 rounded-lg overflow-hidden ${\n                        index === 0 ? 'col-span-2 aspect-[16/10]' : ''\n                      }`}\n                    >\n                      <img\n                        src={image}\n                        alt={`${kitten.name} - Image ${index + 1}`}\n                        className=\"w-full h-full object-cover\"\n                      />\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Right Column - Information */}\n            <div className=\"lg:w-1/3\">\n              <div className=\"sticky top-8\">\n                <h1 className=\"text-4xl font-bold mb-6\">{kitten.name}</h1>\n                \n                <div className=\"space-y-6 mb-8\">\n                  <div>\n                    <Badge variant=\"outline\" className=\"text-amber-600 border-amber-600\">\n                      {kitten.breed}\n                    </Badge>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    {kitten.age && (\n                      <div className=\"bg-gray-50 p-4 rounded-lg\">\n                        <span className=\"text-amber-600 block text-sm mb-1\">{t(\"cat.age\")}</span>\n                        <span className=\"text-lg font-medium\">{kitten.age}</span>\n                      </div>\n                    )}\n                    {kitten.gender && (\n                      <div className=\"bg-gray-50 p-4 rounded-lg\">\n                        <span className=\"text-amber-600 block text-sm mb-1\">{t(\"cat.gender\")}</span>\n                        <span className=\"text-lg font-medium\">{kitten.gender}</span>\n                      </div>\n                    )}\n                  </div>\n\n                  {kitten.price && (\n                    <div className=\"bg-amber-50 p-4 rounded-lg\">\n                      <span className=\"text-amber-600 block text-sm mb-1\">{t(\"cat.price\")}</span>\n                      <span className=\"text-2xl font-bold\">{kitten.price}</span>\n                    </div>\n                  )}\n                </div>\n\n                {kitten.description && (\n                  <div className=\"mb-8\">\n                    <h2 className=\"text-xl font-semibold text-amber-600 mb-4\">{t(\"cat.about\")}</h2>\n                    <p className=\"text-gray-700 leading-relaxed\">{kitten.description}</p>\n                  </div>\n                )}\n\n                <Button\n                  onClick={() => navigate('/contact')}\n                  className=\"w-full bg-amber-600 hover:bg-amber-700 text-white py-6 text-lg\"\n                >\n                  {t(\"cat.contactUs\")}\n                </Button>\n              </div>\n            </div>\n          </div>\n        </main>\n      </div>\n    </>\n  );\n};\n\nexport default CatDetailsPage;\n"],"names":["CatDetailsPage","t","useTranslation","slug","useParams","navigate","useNavigate","kitten","setKitten","useState","loading","setLoading","useEffect","async","kittens","getKittens","parts","split","slugId","length","matchingKitten","find","k","id","padEnd","slice","error","fetchKitten","jsxs","className","children","jsxRuntimeExports","jsx","Navigation","Fragment","Helmet","name","breed","content","description","property","_a","images","Link","to","map","image","index","src","alt","Badge","variant","age","gender","price","Button","onClick"],"mappings":"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"}