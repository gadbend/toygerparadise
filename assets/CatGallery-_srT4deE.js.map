{"version":3,"file":"CatGallery-_srT4deE.js","sources":["../../src/components/ui/breadcrumb.tsx","../../src/components/CatGallery.tsx"],"sourcesContent":["import { Link, useLocation } from \"react-router-dom\";\nimport { ChevronRight } from \"lucide-react\";\n\ninterface BreadcrumbItem {\n  label: string;\n  path: string;\n  isCategory?: boolean;\n}\n\nconst routeLabels: Record<string, string> = {\n  \"adoption\": \"Available Kittens\",\n  \"about-us\": \"About Us\",\n  \"contact\": \"Contact\",\n  \"breeds\": \"Cat Breeds\",\n  \"toyger\": \"Toyger\",\n  \"bengal\": \"Bengal\",\n  \"login\": \"Login\"\n};\n\nexport function Breadcrumb(): JSX.Element | null {\n  const location = useLocation();\n  const pathnames = location.pathname.split(\"/\").filter((x) => x);\n\n  if (location.pathname === \"/\") return null;\n\n  const breadcrumbs: BreadcrumbItem[] = pathnames.map((value, index) => {\n    const last = index === pathnames.length - 1;\n    const to = `/${pathnames.slice(0, index + 1).join(\"/\")}`;\n    const label = routeLabels[value] || value;\n\n    return {\n      label,\n      path: to,\n      isCategory: !last,\n    };\n  });\n\n  return (\n    <div className=\"py-4\">\n      <div className=\"container mx-auto\">\n        <ol className=\"flex flex-wrap items-center gap-2\">\n          <li>\n            <Link\n              to=\"/\"\n              className=\"text-gray-400 hover:text-amber-500 transition-colors px-3 py-1 rounded-md hover:bg-white/5\"\n            >\n              Home\n            </Link>\n          </li>\n          {breadcrumbs.map((item, index) => {\n            return (\n              <li key={item.path} className=\"flex items-center\">\n                <ChevronRight className=\"h-4 w-4 text-gray-400\" />\n                {item.isCategory ? (\n                  <Link\n                    to={item.path}\n                    className=\"text-gray-400 hover:text-amber-500 transition-colors px-3 py-1 rounded-md hover:bg-white/5\"\n                  >\n                    {item.label}\n                  </Link>\n                ) : (\n                  <span className=\"text-amber-500 px-3 py-1\">{item.label}</span>\n                )}\n              </li>\n            );\n          })}\n        </ol>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { getGalleryImages } from '../lib/galleryQueries';\nimport type { CatGalleryImage } from '../types/gallery';\nimport { useTranslation } from 'react-i18next';\nimport { motion, AnimatePresence } from 'framer-motion';\n\ninterface CatGalleryProps {\n  category: 'toyger' | 'bengal';\n}\n\nexport function CatGallery({ category }: CatGalleryProps) {\n  const { t } = useTranslation();\n  const [selectedImage, setSelectedImage] = useState<CatGalleryImage | null>(null);\n  const [images, setImages] = useState<CatGalleryImage[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchImages = async () => {\n      try {\n        setIsLoading(true);\n        setError(null);\n        const data = await getGalleryImages(category);\n        console.log('Fetched images:', data);\n        setImages(data);\n      } catch (err) {\n        console.error('Error fetching gallery images:', err);\n        setError('Failed to load images. Please try again later.');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchImages();\n  }, [category]);\n\n  useEffect(() => {\n    const images = document.querySelectorAll(\"img[data-src]\");\n    const imageObserver = new IntersectionObserver((entries, observer) => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          const img = entry.target as HTMLImageElement;\n          img.src = img.dataset.src || \"\";\n          img.removeAttribute(\"data-src\");\n          observer.unobserve(img);\n        }\n      });\n    });\n\n    images.forEach(img => imageObserver.observe(img));\n    return () => imageObserver.disconnect();\n  }, [images]);\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gold\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-8 text-red-500\">\n        {error}\n      </div>\n    );\n  }\n\n  if (!images.length) {\n    return (\n      <div className=\"text-center py-8\">\n        No images available for this category.\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 p-4\">\n        {images.map((image, index) => (\n          <motion.div\n            key={image.id}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: index * 0.1 }}\n            className=\"relative aspect-square overflow-hidden rounded-xl cursor-pointer group\"\n            onClick={() => setSelectedImage(image)}\n          >\n            <div className=\"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/50 z-10\"></div>\n            <img\n              data-src={image.image_url}\n              alt={image.title || `${category} cat`}\n              className=\"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700 ease-out\"\n              onLoad={(e) => {\n                const img = e.target as HTMLImageElement;\n                img.classList.remove('opacity-0');\n              }}\n            />\n            {image.title && (\n              <div className=\"absolute bottom-0 left-0 right-0 p-4 z-20 transform translate-y-2 group-hover:translate-y-0 transition-transform duration-300\">\n                <h3 className=\"text-white text-lg font-medium drop-shadow-lg\">{image.title}</h3>\n                {image.description && (\n                  <p className=\"text-gray-200 text-sm mt-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                    {image.description}\n                  </p>\n                )}\n              </div>\n            )}\n          </motion.div>\n        ))}\n      </div>\n\n      <AnimatePresence>\n        {selectedImage && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4\"\n            onClick={() => setSelectedImage(null)}\n          >\n            <motion.div\n              initial={{ scale: 0.9 }}\n              animate={{ scale: 1 }}\n              exit={{ scale: 0.9 }}\n              className=\"relative max-w-5xl w-full\"\n              onClick={e => e.stopPropagation()}\n            >\n              <button\n                className=\"absolute top-4 right-4 text-white hover:text-gold transition-colors z-10\"\n                onClick={() => setSelectedImage(null)}\n              >\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n              <div className=\"relative aspect-[16/9] rounded-xl overflow-hidden\">\n                <img\n                  src={selectedImage.image_url}\n                  alt={selectedImage.title || `${category} cat`}\n                  className=\"w-full h-full object-contain\"\n                />\n              </div>\n              {selectedImage.title && (\n                <div className=\"mt-4 text-white\">\n                  <h3 className=\"text-2xl font-semibold\">{selectedImage.title}</h3>\n                  {selectedImage.description && (\n                    <p className=\"mt-2 text-gray-300\">{selectedImage.description}</p>\n                  )}\n                </div>\n              )}\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n"],"names":["routeLabels","adoption","contact","breeds","toyger","bengal","login","Breadcrumb","location","useLocation","pathnames","pathname","split","filter","x","breadcrumbs","map","value","index","last","length","to","slice","join","label","path","isCategory","jsx","className","children","jsxRuntimeExports","jsxs","Link","item","ChevronRight","CatGallery","category","useTranslation","selectedImage","setSelectedImage","useState","images","setImages","isLoading","setIsLoading","error","setError","useEffect","async","data","getGalleryImages","err","fetchImages","document","querySelectorAll","imageObserver","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","img","target","src","dataset","removeAttribute","unobserve","observe","disconnect","Fragment","image","motion","div","initial","opacity","y","animate","transition","delay","onClick","image_url","alt","title","onLoad","e","classList","remove","description","id","AnimatePresence","exit","scale","stopPropagation","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d"],"mappings":"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"}